---
layout: post
title: 2022-07-06 DELETEのHTTPステータスコードを200で返すか204で返すか
---

# DELETEのHTTPステータスコードを200で返すか204で返すか

W3Cの定義は以下

https://triple-underscore.github.io/rfc-others/RFC2616-ja.html

> しかしそのレスポンスが与えられた場合に、サーバがそのリソースを削除したり、アクセスできない場所へ移動したりしようとしていないのであれば、成功を示すべきではない。
> 成功したレスポンスは、もしレスポンスがステータスで表しているエンティティを含んでいるなら 200 (OK)、もし動作がまだ行われていないなら 202 (Accepted)、もし動作は行われたが、レスポンスにエンティティを含んでいないなら 204 (No Content) であるべきである。

削除対象のレコードがDBに残っている場合（論理削除）は200、残っていない場合（物理削除）は204にするのが良さそう
